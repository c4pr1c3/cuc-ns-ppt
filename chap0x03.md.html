<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="é»„ç®">
  <title>ç½‘ç»œå®‰å…¨</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="lib/reveal.js/css/reveal.css">
  <style type="text/css">code{white-space: pre;}</style>


    <!-- For syntax highlighting using highlight.js-->
    <link rel="stylesheet" href="lib/reveal.js/lib/css/zenburn.css">

  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  <link rel="stylesheet" href="lib/reveal.js/css/theme/white.css" id="theme">
  <!-- Printing and PDF exports -->
<link rel="stylesheet" media="print" href="lib/reveal.js/css/print/pdf.css" />
  <script>
    var link = document.createElement( 'link' );
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match( /print-pdf/gi ) ? 'lib/reveal.js/css/print/pdf.css' : 'lib/reveal.js/css/print/paper.css';
    document.getElementsByTagName( 'head' )[0].appendChild( link );
  </script>
  <!--[if lt IE 9]>
  <script src="lib/reveal.js/lib/js/html5shiv.js"></script>
  <![endif]-->
</head>
<body>
  <div class="reveal">
    <div class="slides">

<section id="title-slide">
  <h1 class="title">ç½‘ç»œå®‰å…¨</h1>
  <p class="author">é»„ç®</p>
</section>

<section>
<section id="ç¬¬ä¸‰ç« -ç½‘ç»œå®‰å…¨åº”ç”¨åŸºç¡€" class="title-slide slide level1">
<h1>ç¬¬ä¸‰ç«  ç½‘ç»œå®‰å…¨åº”ç”¨åŸºç¡€</h1>

</section>
<section id="æ¸©æ•…" class="slide level2">
<h2>æ¸©æ•…</h2>
<ul>
<li>TCP/IPç½‘ç»œåˆ†å±‚æ¨¡å‹</li>
<li>å®‰å…¨ä¸‰è¦ç´ : CIA</li>
<li>ç§æœ‰åœ°å€</li>
<li>å…¬æœ‰åœ°å€</li>
<li>æ•°å­—æ ‡è¯†
<ul>
<li>ç½‘ç»œæ ‡è¯†</li>
<li>ä¸»æœºæ ‡è¯†</li>
</ul></li>
</ul>
</section>
<section id="çŸ¥æ–°" class="slide level2">
<h2>çŸ¥æ–°</h2>
<ul>
<li>IPåœ°å€ä¸èƒ½ä½œä¸ºç¡®è®¤æ”»å‡»è€…èº«ä»½çš„å”¯ä¸€æ ‡è¯†</li>
<li>æºå’Œç›®çš„åœ°å€éƒ½æ˜¯ç§æœ‰åœ°å€çš„æ•°æ®åŒ…ä¹Ÿèƒ½åœ¨â€œå…¬ç½‘â€ä¸Šä¼ è¾“</li>
<li>ä»£ç†æœåŠ¡çš„å®ç°å½¢å¼å¤šç§å¤šæ ·
<ul>
<li>å…¬å¼€åè®®</li>
<li>ç§æœ‰åè®®</li>
</ul></li>
</ul>
</section>
<section id="æœ¬ç« å†…å®¹æè¦" class="slide level2">
<h2>æœ¬ç« å†…å®¹æè¦</h2>
<ul>
<li>å¸¸è§ä»£ç†æœåŠ¡
<ul>
<li>HTTPä»£ç†</li>
<li>è™šæ‹Ÿä¸“ç”¨ç½‘(VPN)</li>
<li>SOCKSä»£ç†</li>
</ul></li>
<li>é«˜çº§ä»£ç†æœåŠ¡</li>
<li>ä»£ç†æœåŠ¡çš„æ£€æµ‹</li>
</ul>
</section>
</section>
<section>
<section id="ç»å…¸ä»£ç†æœåŠ¡æ¨¡å‹" class="title-slide slide level1">
<h1>ç»å…¸ä»£ç†æœåŠ¡æ¨¡å‹</h1>

</section>
<section class="slide level2">

<figure>
<img data-src="images/chap0x03/proxy-model.png" alt="" /><figcaption>ç»å…¸ä»£ç†æœåŠ¡æ¨¡å‹</figcaption>
</figure>
</section>
<section class="slide level2">

<ul>
<li>ä»£ç†æœåŠ¡å™¨åŒæ—¶æ‰®æ¼”æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¸¤ç§è§’è‰²</li>
<li>ä»£ç†æœåŠ¡å™¨æ˜¯å®¢æˆ·ä¸æœåŠ¡å™¨å…³ç³»çš„ <font color="red">ä¸­é—´äºº</font></li>
<li>ã€Œç¼“å­˜ã€ä½œä¸ºå¯é€‰ç»„ä»¶æ˜¯å¸¸è§çš„ã€Œå®‰å…¨é£é™©ç‚¹ã€</li>
</ul>
</section>
<section id="ç½‘ç»œä»£ç†çš„åŸºæœ¬ç±»å‹" class="slide level2">
<h2>ç½‘ç»œä»£ç†çš„åŸºæœ¬ç±»å‹</h2>
<ul>
<li><strong>æ­£å‘</strong> ä»£ç†
<ul>
<li>è½¬å‘ä»£ç†ï¼Œæœ€å¸¸è§
<ul>
<li>å¼€æ”¾ä»£ç†
<ul>
<li>äº’è”ç½‘ä¸Šäººäººå¯è®¿é—®çš„ <code>è½¬å‘ä»£ç†</code></li>
</ul></li>
</ul></li>
</ul></li>
<li><strong>åå‘</strong> ä»£ç†
<ul>
<li>å°†å®¢æˆ·ç«¯è¯·æ±‚è½¬å‘ç»™åç«¯æœåŠ¡å™¨é›†ç¾¤ä¸­çš„æŸä¸ªèŠ‚ç‚¹å¤„ç†å¹¶è¿”å›å¤„ç†ç»“æœç»™å®¢æˆ·ç«¯</li>
</ul></li>
</ul>
</section>
<section id="æ­£å‘ä»£ç†çš„åº”ç”¨åœºæ™¯" class="slide level2">
<h2>æ­£å‘ä»£ç†çš„åº”ç”¨åœºæ™¯</h2>
<ul>
<li>è¿‡æ»¤
<ul>
<li>å†…å®¹è¿‡æ»¤</li>
</ul></li>
<li>ç¼“å­˜</li>
<li>ç»•è¿‡å†…å®¹è¿‡æ»¤å’Œç½‘ç»œå®¡æŸ¥</li>
<li>æ—¥å¿—å’Œå—…æ¢</li>
<li>ç§æœ‰ç½‘ç»œçš„ç½‘å…³</li>
<li>åŒ¿åæœåŠ¡è®¿é—®</li>
</ul>
</section>
<section id="åå‘ä»£ç†çš„åº”ç”¨åœºæ™¯" class="slide level2">
<h2>åå‘ä»£ç†çš„åº”ç”¨åœºæ™¯</h2>
<ul>
<li>æå‡åŠ å¯†é“¾æ¥æ€§èƒ½</li>
<li>è´Ÿè½½å‡è¡¡</li>
<li>é™æ€å†…å®¹ç¼“å­˜</li>
<li>å‹ç¼©ï¼ˆä»£ç†ï¼‰</li>
<li>é€‚é…ä½ç½‘é€Ÿå®¢æˆ·ç«¯</li>
<li>å®‰å…¨ç½‘å…³</li>
<li>å¤–ç½‘å‘å¸ƒ</li>
</ul>
</section>
<section id="proxy-apps-1" class="slide level2">
<h2>ç½‘ç»œä»£ç†çš„åº”ç”¨ â€”â€” äº¦æ­£äº¦é‚ª</h2>
<ul>
<li>âœ… åŠ å¯†é€šä¿¡æ•°æ®*
<ul>
<li>é˜²æ­¢é€šä¿¡æ•°æ®è¢«çªƒå¬å’Œç¯¡æ”¹ï¼ˆæœºå¯†æ€§å’Œå®Œæ•´æ€§ä¿æŠ¤ï¼‰</li>
</ul></li>
<li>â›‘ å®¡æŸ¥ç½‘ç»œé€šä¿¡æ•°æ®*
<ul>
<li>æ¶æ„æµé‡æ£€æµ‹å’Œè¿‡æ»¤</li>
<li>å¤±æ³„å¯†è¡Œä¸ºå‘ç°å’Œé˜»æ­¢</li>
</ul></li>
<li>ğŸ’¡ æ”¹å˜ç½‘ç»œæ‹“æ‰‘ç»“æ„*
<ul>
<li>è·¨å±€åŸŸç½‘/å¼‚æ„ç½‘ç»œé€šä¿¡</li>
</ul></li>
</ul>
<blockquote>
<p><code>* è§†å…·ä½“ä»£ç†æœåŠ¡å®ç°æŠ€æœ¯è€Œå®š</code></p>
</blockquote>
</section>
<section class="slide level2">

<h3 id="å®¡æŸ¥ç½‘ç»œé€šä¿¡æ•°æ®">â›‘ å®¡æŸ¥ç½‘ç»œé€šä¿¡æ•°æ®</h3>
<ul>
<li>ç”¨æˆ·éšç§ ğŸ†š ç½‘ç»œä¸ç³»ç»Ÿå®‰å…¨</li>
</ul>
</section>
<section id="proxy-apps-2" class="slide level2">
<h2>ç½‘ç»œä»£ç†çš„åº”ç”¨ â€”â€” äº¦æ­£äº¦é‚ª</h2>
<ul>
<li>âš ï¸ éšè—æ¥æº IP</li>
<li>âš ï¸ ç»•è¿‡ç½‘ç»œå®‰å…¨å®¡æŸ¥/æ£€æµ‹æœºåˆ¶</li>
</ul>
<blockquote>
<p>å¨èƒç½‘ç»œå®‰å…¨æ£€æµ‹ã€ç›‘æµ‹ã€å®¡è®¡æœºåˆ¶</p>
</blockquote>
</section>
<section class="slide level2">

<p>ç½‘ç»œå®‰å…¨çš„ <font color="red">å¯¹æŠ—</font> æœ¬è´¨åœ¨ã€Œä»£ç†æŠ€æœ¯ã€çš„åº”ç”¨ä¸­ä½“ç°åœ°æ·‹æ¼“å°½è‡´ã€‚</p>
</section>
</section>
<section>
<section id="http-proxy" class="title-slide slide level1">
<h1>HTTP ä»£ç†</h1>

</section>
<section id="http-review-1" class="slide level2">
<h2>å›é¡¾ HTTP</h2>
<ul>
<li>RFC 2616: Hypertext Transfer Protocol â€“ HTTP/1.1</li>
<li>RFC 2617: HTTP Authentication: Basic and Digest Access Authentication</li>
<li>RFC 2818: HTTP Over TLS</li>
<li>RFC 6265: HTTP State Management Mechanism</li>
<li>RFC 2145 : Use and Interpretation of HTTP Version Numbers - Informational</li>
<li>MIMEç›¸å…³RFC
<ul>
<li>RFC 2045, RFC 2046, RFC 2047, RFC 4288, RFC 4289, RFC 2049</li>
</ul></li>
</ul>
</section>
<section id="http-review-2" class="slide level2">
<h2>å›é¡¾ HTTP</h2>
<ul>
<li>HTTP ï¼ˆä¼šè¯ï¼‰åŸºæœ¬è¿‡ç¨‹
<ul>
<li>å»ºç«‹è¿æ¥ï¼ˆè¿æ¥å‡†å¤‡ã€è¿æ¥ï¼‰</li>
<li>å®¢æˆ·ç«¯å‘é€è¯·æ±‚ / æœåŠ¡å™¨å‘é€å“åº”</li>
<li>å…³é—­è¿æ¥</li>
</ul></li>
</ul>
</section>
<section id="http-proxy-types" class="slide level2">
<h2>HTTP ä»£ç†ç±»å‹</h2>
<ul>
<li>æ­£å‘ä»£ç†
<ul>
<li>é€šå¸¸æ„ä¹‰ä¸Šçš„â€œä»£ç†â€
<ul>
<li>æ”¹å˜é€šä¿¡æ•°æ®å†…å®¹*</li>
</ul></li>
</ul></li>
<li>åå‘ä»£ç†
<ul>
<li>é¢å‘ç”¨æˆ·å®Œå…¨é€æ˜
<ul>
<li>å¯¹é€šä¿¡å†…å®¹æ— ä¿®æ”¹*</li>
</ul></li>
</ul></li>
</ul>
<blockquote>
<p>`* å’ŒHTTP ä»£ç†çš„å·¥ä½œæ¨¡å¼æœ‰å…³</p>
</blockquote>
</section>
<section class="slide level2">

<h3 id="ä¸åŒæµè§ˆå™¨çš„æ­£å‘ä»£ç†è®¾ç½®æ–¹æ³•">ä¸åŒæµè§ˆå™¨çš„ï¼ˆæ­£å‘ï¼‰ä»£ç†è®¾ç½®æ–¹æ³•</h3>
<blockquote>
<p><æµè§ˆå™¨åç§°> è®¾ç½®ä»£ç†</p>
</blockquote>
<p><img data-src="images/chap0x03/proxy-setup-chrome-example.png" /></p>
</section>
<section class="slide level2">

<h3 id="proxy-setup-pitfalls-1">æµè§ˆå™¨ä»£ç†è®¾ç½®çš„å¸¸è§é™·é˜±</h3>
<p><img data-src="images/chap0x03/proxy-setup-firefox-options-1.png" /></p>
</section>
<section class="slide level2">

<h4 id="what-happened-after-url-typedin-1">æµè§ˆå™¨è¾“å…¥URL åå‘ç”Ÿäº†ä»€ä¹ˆ</h4>
<figure>
<img data-src="images/chap0x03/what-happened-after-url-typedin.png" alt="" /><figcaption>ç²¾ç®€ç‰ˆæµè§ˆå™¨è®¿é—® Web ç«™ç‚¹æµç¨‹å›¾</figcaption>
</figure>
</section>
<section class="slide level2">

<h3 id="proxy-setup-pitfalls-2">æµè§ˆå™¨ä»£ç†è®¾ç½®çš„å¸¸è§é™·é˜±</h3>
<p><img data-src="images/chap0x03/proxy-setup-firefox-options-2.png" /></p>
</section>
<section class="slide level2">

<h4 id="what-happened-after-url-typedin-2">æµè§ˆå™¨è¾“å…¥URL åå‘ç”Ÿäº†ä»€ä¹ˆ</h4>
<figure>
<img data-src="images/chap0x03/what-happened-after-url-typedin-proxy-mode.png" alt="" /><figcaption>ä»£ç†æ¨¡å¼çš„è®¿é—®æµç¨‹ç®€å›¾</figcaption>
</figure>
</section>
<section class="slide level2">

<ul>
<li>å¦‚æœ DNS è§£æçš„ç»“æœã€Œè¢«æ±¡æŸ“ã€ï¼Ÿ</li>
<li>å¦‚æœ <code>ä»£ç†æœåŠ¡å™¨</code> å®¡æŸ¥ç”¨æˆ·çš„ <code>è®¿é—®è¯·æ±‚</code> å’ŒæœåŠ¡å™¨ <code>å“åº”å†…å®¹</code> ï¼Ÿ</li>
</ul>
</section>
<section id="http-ä»£ç†çš„ä¸»è¦ç”¨é€”" class="slide level2">
<h2>HTTP ä»£ç†çš„ä¸»è¦ç”¨é€”</h2>
<ul>
<li>è®¿é—®å—é™åˆ¶çš„Webç«™ç‚¹
<ul>
<li>é™åˆ¶æœºåˆ¶ï¼šæ ¹æ®å®¢æˆ·ç«¯æ¥æºIPè¿‡æ»¤</li>
</ul></li>
<li>ä¼˜åŒ–Webç«™ç‚¹è®¿é—®é€Ÿåº¦
<ul>
<li>é¢„å…ˆç¼“å­˜å®¢æˆ·ç«¯è¦è®¿é—®çš„æ•°æ®</li>
</ul></li>
<li>å†…å®¹å®¡æŸ¥
<ul>
<li>å‘ç°æ¶æ„å†…å®¹å¹¶åŠ ä»¥è¿‡æ»¤é˜»æ­¢</li>
</ul></li>
</ul>
</section>
<section id="http-ä»£ç†çš„å·¥ä½œæ¨¡å¼" class="slide level2">
<h2>HTTP ä»£ç†çš„å·¥ä½œæ¨¡å¼</h2>
<ul>
<li><code>X-Forwarded-For</code> (XFF)
<ul>
<li>é RFC æ ‡å‡†å®šä¹‰</li>
<li>Squid ä»£ç†çš„å¼€å‘äººå‘˜æœ€æ—©å¼•å…¥è¯¥ HTTP æ¶ˆæ¯å¤´</li>
<li>æ ‡è¯†å®¢æˆ·ç«¯çœŸå®IP</li>
<li><code>X-Forwarded-For: client1, proxy1, proxy2</code></li>
</ul></li>
<li>åŒ¿åä»£ç†
<ul>
<li>ä¸æä¾› <code>X-Forwarded-For</code> å­—æ®µ</li>
</ul></li>
<li>éåŒ¿åä»£ç†
<ul>
<li>æä¾› <code>X-Forwarded-For</code> å­—æ®µ</li>
</ul></li>
</ul>
</section>
<section class="slide level2">

<h3 id="å®é™…åº”ç”¨ä¸­çš„-http-ä»£ç†ç±»å‹">å®é™…åº”ç”¨ä¸­çš„ HTTP ä»£ç†ç±»å‹</h3>
<table>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">REMOTE_ADDR</th>
<th style="text-align: left;">HTTP_VIA</th>
<th style="text-align: left;">HTTP_X_FORWARDED_FOR</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">é€æ˜ä»£ç†</td>
<td style="text-align: left;">æœ€åä¸€ä¸ªä»£ç†æœåŠ¡å™¨IP</td>
<td style="text-align: left;">ä»£ç†æœåŠ¡å™¨IPæˆ–å†…éƒ¨ä»£ç†åˆ«å</td>
<td style="text-align: left;">å®¢æˆ·ç«¯çœŸå®IPï¼Œæˆ–ï¼ˆç»è¿‡å¤šä¸ªä»£ç†æ—¶ï¼‰éµå¾ªXFFæ ‡å‡†</td>
</tr>
<tr class="even">
<td style="text-align: left;">æ™®é€šåŒ¿å</td>
<td style="text-align: left;">æœ€åä¸€ä¸ªä»£ç†æœåŠ¡å™¨IP</td>
<td style="text-align: left;">ä»£ç†æœåŠ¡å™¨IPæˆ–å†…éƒ¨ä»£ç†åˆ«å</td>
<td style="text-align: left;">éƒ¨åˆ†éµå¾ªXFFæ ‡å‡†ï¼ˆéšè—å®¢æˆ·ç«¯çœŸå®IPï¼‰</td>
</tr>
<tr class="odd">
<td style="text-align: left;">æ¬ºéª—ä»£ç†</td>
<td style="text-align: left;">ä»£ç†æœåŠ¡å™¨IP</td>
<td style="text-align: left;">ä»£ç†æœåŠ¡å™¨IPæˆ–å†…éƒ¨ä»£ç†åˆ«å</td>
<td style="text-align: left;">ä¼ªé€ ç»è¿‡çš„ä»£ç†æœåŠ¡å™¨IPåˆ—è¡¨</td>
</tr>
<tr class="even">
<td style="text-align: left;">é«˜åŒ¿åä»£ç†</td>
<td style="text-align: left;">ä»£ç†æœåŠ¡å™¨IP</td>
<td style="text-align: left;">æ— æ•°å€¼æˆ–ä¸æ˜¾ç¤º</td>
<td style="text-align: left;">æ— æ•°å€¼æˆ–ä¸æ˜¾ç¤º</td>
</tr>
</tbody>
</table>
<blockquote>
<p><a href="https://www.php.net/manual/en/reserved.variables.server.php">$_SERVER in PHP</a></p>
</blockquote>
</section>
<section class="slide level2">

<h3 id="ä»£ç†åœ°å€å®ä¾‹">ä»£ç†åœ°å€å®ä¾‹</h3>
<p><img data-src="images/chap0x03/proxy-server-examples.png" /></p>
</section>
<section class="slide level2">

<h3 id="æœ¬åœ°ä»£ç†æ¨¡æ‹Ÿå°å®éªŒ">æœ¬åœ°ä»£ç†æ¨¡æ‹Ÿå°å®éªŒ</h3>
<pre class="php"><code>// proxy.php
&lt;?php
var_dump($_SERVER);</code></pre>
<pre class="bash"><code># å¼€å¯ PHP æµ‹è¯•ç”¨æœåŠ¡å™¨
php -S 0.0.0.0:8080 proxy.php</code></pre>
<pre class="bash"><code># ä½¿ç”¨ curl æ¨¡æ‹Ÿä½¿ç”¨ä»£ç†æœåŠ¡å™¨çš„å®¢æˆ·ç«¯
curl -H &quot;X-Forwarded-For: 8.8.8.8&quot; http://127.0.0.1:8080/proxy.php
# æ ·ä¾‹è¾“å‡ºï¼ˆèŠ‚é€‰ï¼‰
# array(18) {
#   [&quot;REMOTE_ADDR&quot;]=&gt;
#   string(9) &quot;127.0.0.1&quot;
#   [&quot;HTTP_X_FORWARDED_FOR&quot;]=&gt;
#   string(7) &quot;8.8.8.8&quot;
# }</code></pre>
</section>
<section id="reverse-http-proxy" class="slide level2">
<h2>HTTP åå‘ä»£ç†</h2>
<p><img data-src="images/chap0x03/reverse-http-proxy.png" /></p>
</section>
<section class="slide level2">

<h3 id="reverse-http-proxy-usage">HTTP åå‘ä»£ç†ä¸»è¦ç”¨é€”</h3>
<ul>
<li>å†…ç½‘å¯¹å¤–æœåŠ¡çš„å ¡å’ä¸»æœº
<ul>
<li>è´Ÿè½½å‡è¡¡</li>
<li>ç¼“å†²</li>
</ul></li>
<li>å†…å®¹å°å·ç½‘ç«™
<ul>
<li>é»‘å¸½SEO</li>
</ul></li>
</ul>
</section>
</section>
<section>
<section id="http-proxy-exp" class="title-slide slide level1">
<h1>HTTP æ­£å‘ä»£ç†å®éªŒ</h1>

</section>
<section id="å¿…å¤‡ç†è®ºçŸ¥è¯†" class="slide level2">
<h2>å¿…å¤‡ç†è®ºçŸ¥è¯†</h2>
<ul>
<li><strong>H</strong>TTP <strong>S</strong>trict <strong>T</strong>ransport <strong>S</strong>ecurity</li>
<li><code>HSTS</code> å¼ºåˆ¶å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„æ‰€æœ‰é€šä¿¡æµé‡å¿…é¡»ä½¿ç”¨ HTTPS</li>
<li><code>HSTS</code> çš„å®ç°å¼ºçƒˆä¾èµ–äºã€Œå®¢æˆ·ç«¯ã€æ”¯æŒ
<ul>
<li>å†…ç½® <code>HSTS</code> ç«™ç‚¹åå•</li>
<li>é¦–æ¬¡è®¿é—®åæŒ‰ç…§æœåŠ¡å™¨çº¦å®šï¼Œåœ¨æµè§ˆå™¨æœ¬åœ°å­˜å‚¨</li>
</ul></li>
</ul>
</section>
<section class="slide level2">

<h3 id="hsts-compatibility-check-matrix">HSTS çš„æµè§ˆå™¨æ”¯æŒæƒ…å†µæ±‡æ€»</h3>
<p><a href="https://caniuse.com/#feat=stricttransportsecurity"><img data-src="images/chap0x03/hsts-browser-support.png" /></a></p>
</section>
<section class="slide level2">

<h3 id="ä»¥-google-chrome-æµè§ˆå™¨ä¸ºä¾‹">ä»¥ Google Chrome æµè§ˆå™¨ä¸ºä¾‹</h3>
<p><a href="chrome://net-internals/#hsts">chrome://net-internals/#hsts</a></p>
<p><img data-src="images/chap0x03/hsts-in-chrome.png" /></p>
<blockquote>
<p>auth.alipay.com åªæœ‰è®¿é—®ä¸€æ¬¡æ‰èƒ½è¢«ã€Œè®°å¿†ã€</p>
</blockquote>
<ul>
<li><a href="https://www.chromium.org/hsts/">Chromium å†…ç½® HSTS ç«™ç‚¹åˆ—è¡¨</a></li>
</ul>
</section>
<section id="å®éªŒç¯å¢ƒ" class="slide level2">
<h2>å®éªŒç¯å¢ƒ</h2>
<ul>
<li>Kali Rolling</li>
<li><a href="https://tinyproxy.github.io/">tinyproxy</a></li>
<li>wireshark</li>
<li><a href="https://portswigger.net/burp">burpsuite</a> ï¼ˆè¯¾åå®éªŒç”¨ï¼‰</li>
</ul>
</section>
<section id="ä¸»è¦æ“ä½œæ­¥éª¤" class="slide level2">
<h2>ä¸»è¦æ“ä½œæ­¥éª¤</h2>
<pre class="bash"><code># å®‰è£… tinyproxy
apt update &amp;&amp; apt install tinyproxy

# å¯åŠ¨ tinyproxy
systemctl start tinyproxy

# è®¿é—®å‰è¿° proxy.php
curl -x http://127.0.0.1:8888 http://127.0.0.1:8080/proxy.php
# array(19) {
#   [&quot;REMOTE_ADDR&quot;]=&gt;
#   string(9) &quot;127.0.0.1&quot;
#   [&quot;HTTP_HOST&quot;]=&gt;
#   string(14) &quot;127.0.0.1:8080&quot;
#   [&quot;HTTP_VIA&quot;]=&gt;
#   string(32) &quot;1.1 tinyproxy (tinyproxy/1.10.0)&quot;
# }

# åœ¨å®¢æˆ·ç«¯è¯·æ±‚å¤´ä¸­åŠ å…¥å®¢æˆ·ç«¯çœŸå® IP
sed -i.bak &quot;s/#XTinyproxy Yes/XTinyproxy Yes/&quot; /etc/tinyproxy/tinyproxy.conf

# é‡å¯ tinyproxy æœåŠ¡
systemctl restart tinyproxy

# åœ¨ç‹¬ç«‹ shell çª—å£å¼€å¯ tinyproxy æ—¥å¿—ç›‘æ§å°ç¨‹åº
tail -F /var/log/tinyproxy/tinyproxy.log

# è®¿é—® HTTPS ç«™ç‚¹
curl -x http://127.0.0.1:8888 https://auth.alipay.com/login/index.htm

# æŸ¥çœ‹
# CONNECT   Jul 06 17:17:15 [7672]: Connect (file descriptor 7): localhost [127.0.0.1]
# CONNECT   Jul 06 17:17:15 [7672]: Request (file descriptor 7): CONNECT auth.alipay.com:443 HTTP/1.1
# INFO      Jul 06 17:17:15 [7672]: No upstream proxy for auth.alipay.com
# INFO      Jul 06 17:17:15 [7672]: opensock: opening connection to auth.alipay.com:443
# INFO      Jul 06 17:17:15 [7672]: opensock: getaddrinfo returned for auth.alipay.com:443
# CONNECT   Jul 06 17:17:15 [7672]: Established connection to host &quot;auth.alipay.com&quot; using file descriptor 8.
# INFO      Jul 06 17:17:15 [7672]: Not sending client headers to remote machine
# INFO      Jul 06 17:17:15 [7672]: Closed connection between local client (fd:7) and remote client (fd:8)

# æŸ¥çœ‹ HSTS å“åº”å¤´
curl -I -x http://127.0.0.1:8888 https://auth.alipay.com/login/index.htm
# HTTP/1.0 200 Connection established
# Proxy-agent: tinyproxy/1.10.0
# 
# HTTP/2 302
# server: nginx/1.6.2
# date: Mon, 06 Jul 2020 09:19:07 GMT
# content-length: 0
# location: https://authsa127.alipay.com:443/error.htm?exception_marking=the+requestMethod+%5BHEAD%5D+is+not+supported+by+handlers%2Cyou+can+try+with+%5BGET%2CPOST%5D%21&amp;messageCode=common.uncaughtException
# set-cookie: zone=RZ54A; Domain=.alipay.com; Path=/
# strict-transport-security: max-age=31536000
# set-cookie: JSESSIONID=05BCA44886FEE4B2C3368F9167D55C83; Path=/; HttpOnly
# set-cookie: JSESSIONID=05BCA44886FEE4B2C3368F9167D55C83; Path=; HttpOnly
# set-cookie: ALIPAYJSESSIONID=RZ54drLXXabsSYlmZr5T8qeGb1zCKyauthRZ54; Domain=.alipay.com; Path=/
# set-cookie: ctoken=UH5ZAmhY7PZUtB7I; Domain=.alipay.com; Path=/
# content-language: zh-CN
# set-cookie: spanner=8YfCP1RF/xNEmob8naEHjZVRrhGwKYJXXt2T4qEYgj0=;path=/;secure;
# via: spanner-internet-5405.sa127[302]</code></pre>
</section>
<section id="è¯¾åå®éªŒ" class="slide level2">
<h2>è¯¾åå®éªŒ</h2>
<ul>
<li><a href="https://c4pr1c3.github.io/cuc-ns/chap0x03/exp.html">è¯¦è§è¯¾æœ¬ä¸­æœ¬ç« å®éªŒ</a></li>
</ul>
</section>
</section>
<section>
<section id="è™šæ‹Ÿä¸“ç”¨ç½‘vpn" class="title-slide slide level1">
<h1>è™šæ‹Ÿä¸“ç”¨ç½‘ï¼ˆVPNï¼‰</h1>

</section>
<section id="ç®€ä»‹" class="slide level2">
<h2>ç®€ä»‹</h2>
<ul>
<li><strong>V</strong>irtual <strong>P</strong>rivate <strong>N</strong>etwork</li>
<li>VPN æ˜¯ä¼ä¸šç½‘åœ¨å› ç‰¹ç½‘ç­‰å…¬å…±ç½‘ç»œçš„å»¶ä¼¸</li>
<li>VPN é€šè¿‡ä¸€ä¸ªç§æœ‰çš„é€šé“æ¥åˆ›å»ºä¸€ä¸ªå®‰å…¨çš„ç§æœ‰çš„è¿æ¥</li>
</ul>
</section>
<section class="slide level2">

<figure>
<img data-src="images/chap0x03/vpn-usage.png" alt="" /><figcaption>VPN å…¸å‹ä½¿ç”¨åœºæ™¯</figcaption>
</figure>
</section>
<section id="è™šæ‹Ÿä¸“ç”¨ç½‘çš„ä¸»è¦ç”¨é€”" class="slide level2">
<h2>è™šæ‹Ÿä¸“ç”¨ç½‘çš„ä¸»è¦ç”¨é€”</h2>
<ul>
<li>ä¿éšœé€šä¿¡è¿‡ç¨‹çš„æœºå¯†æ€§å’Œå®Œæ•´æ€§</li>
<li>å®ç°è‡ªä¸»å¯æ§çš„è·¨ç½‘ç»œä¸“ç”¨é€šä¿¡ç½‘
<ul>
<li>ä½¿å±€åŸŸç½‘çš„æ‹“æ‰‘å»¶ä¼¸åˆ°äº’è”ç½‘ä¸Šçš„ä»»æ„ä¸€ä¸ªç»ˆç«¯
<ul>
<li>è¿œç¨‹è®¿é—®å±€åŸŸç½‘èµ„æºçš„å¯è¡ŒæŠ€æœ¯æ‰‹æ®µ</li>
</ul></li>
<li>ç›¸æ¯”è¾ƒäºç‰©ç†é“¾è·¯ä¸“ç”¨çš„é€šä¿¡ç½‘è§£å†³æ–¹æ¡ˆæˆæœ¬æ›´ä½</li>
</ul></li>
</ul>
</section>
<section id="è™šæ‹Ÿä¸“ç”¨ç½‘çš„åˆ†ç±»" class="slide level2">
<h2>è™šæ‹Ÿä¸“ç”¨ç½‘çš„åˆ†ç±»</h2>
<ul>
<li>æŒ‰åº”ç”¨ç±»å‹åˆ†ç±»
<ul>
<li>Access VPNï¼ˆè¯¦è§è¯¾æœ¬ï¼‰</li>
<li>Intranet VPNï¼ˆè¯¦è§è¯¾æœ¬ï¼‰</li>
<li>Extranet VPNï¼ˆè¯¦è§è¯¾æœ¬ï¼‰</li>
</ul></li>
<li>æŒ‰å®ç°çš„å±‚æ¬¡åˆ†ç±»
<ul>
<li>äºŒå±‚éš§é“ VPN</li>
<li>ä¸‰å±‚éš§é“ VPN</li>
<li>åº”ç”¨å±‚éš§é“VPNï¼šSSL VPN</li>
</ul></li>
</ul>
</section>
<section id="äºŒå±‚éš§é“åè®®" class="slide level2">
<h2>äºŒå±‚éš§é“åè®®</h2>
<ul>
<li>L2F: Layer 2 Forwarding</li>
<li>PPTP: Point To Point Tunnel Protocol</li>
<li>L2TP: Layer 2 Tunnel Protocol (<a href="https://datatracker.ietf.org/doc/rfc2661/">RFC 2661</a>)</li>
</ul>
</section>
<section id="ä¸‰å±‚éš§é“åè®®" class="slide level2">
<h2>ä¸‰å±‚éš§é“åè®®</h2>
<ul>
<li>GRE: General Routing Encapsulation</li>
<li>IPSec: IP Security Protocol</li>
</ul>
</section>
<section id="åº”ç”¨å±‚éš§é“åè®®-ssl-vpn" class="slide level2">
<h2>åº”ç”¨å±‚éš§é“åè®® â€”â€” SSL VPN</h2>
<ul>
<li><a href="https://tools.cisco.com/security/center/resources/ssl_vpn_security">å®‰å…¨æ€§</a>
<ul>
<li>ä¸IPSEC VPNç›¸å½“</li>
<li>æ”¯æŒè®¿é—®æ§åˆ¶</li>
</ul></li>
<li>æ˜“ç”¨æ€§
<ul>
<li>å®¢æˆ·ç«¯åªéœ€è¦æœ‰æ”¯æŒsslçš„æµè§ˆå™¨å³å¯</li>
<li>å®¢æˆ·ç«¯åŸºæœ¬é›¶é…ç½®</li>
<li>éå¸¸é€‚åˆè¿œç¨‹ç”¨æˆ·è®¿é—®ä¼ä¸šå†…éƒ¨ç½‘</li>
</ul></li>
<li>å±€é™æ€§
<ul>
<li>*ä»…æ”¯æŒWebåº”ç”¨</li>
</ul></li>
</ul>
</section>
<section id="layer23-data-frames" class="slide level2">
<h2>äºŒå±‚/ä¸‰å±‚éš§é“åè®®çš„æŠ¥æ–‡ç»“æ„</h2>
<p><a href="https://www.researchgate.net/publication/287458379_Efficiency_Consideration_for_Data_Packets_Encryption_within_Wireless_VPN_Tunneling_for_Video_Streaming/figures"><img data-src="images/chap0x03/vpn-data-frames.png" /></a></p>
</section>
<section class="slide level2">

<h3 id="pptp-pcapr">PPTP å®ä¾‹</h3>
<p><a href="https://www.pcapr.net/view/mu/2009/0/2/15/PPTP-MS-Chap-v.1.Cap.html"><img data-src="images/chap0x03/pptp-pcapr.png" /></a></p>
</section>
<section id="ä¸€å›¾æ€»ç»“å¸¸è§éš§é“åè®®" class="slide level2">
<h2>ä¸€å›¾æ€»ç»“å¸¸è§éš§é“åè®®</h2>
<p><img data-src="images/chap0x03/vpn-by-layers.png" /></p>
</section>
<section id="vpn-summary" class="slide level2">
<h2>ä¸€è¡¨æ ¼æ€»ç»“å¸¸è§ VPN åè®®</h2>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">PPTP</th>
<th style="text-align: left;">L2TP/IPSec</th>
<th style="text-align: left;">OpenVPN</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">èƒŒæ™¯</td>
<td style="text-align: left;">PPP, MS oldest VPN, No Enc/Auth</td>
<td style="text-align: left;">RFC3193</td>
<td style="text-align: left;">å¼€æºVPNè§£å†³æ–¹æ¡ˆ</td>
</tr>
<tr class="even">
<td style="text-align: left;">æ•°æ®åŠ å¯†</td>
<td style="text-align: left;">MPPE(RSA/RC4/128bit)</td>
<td style="text-align: left;">L2TP+IPSec, RFC 4835(3DES/AES)</td>
<td style="text-align: left;">OpenSSL(3DES/AES/RC5/Blowfish)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">é€Ÿåº¦</td>
<td style="text-align: left;">128bit åŠ å¯†æ€§èƒ½ç•¥é«˜äº 256bit</td>
<td style="text-align: left;">æ•°æ®å°è£…2æ¬¡ï¼Œå¯¼è‡´æ€§èƒ½ä¸‹é™</td>
<td style="text-align: left;">UDPæ¨¡å¼ä¸‹æ€§èƒ½è¾¾åˆ°æœ€ä½³</td>
</tr>
<tr class="even">
<td style="text-align: left;">å®‰å…¨æ¼æ´</td>
<td style="text-align: left;">çˆ†ç ´ + æ¯”ç‰¹ç¿»è½¬æ”»å‡»</td>
<td style="text-align: left;">å°‘, AES-GCM å¢åŠ å®‰å…¨æ€§</td>
<td style="text-align: left;">å°‘ï¼ŒAES-GCM å¢åŠ å®‰å…¨æ€§</td>
</tr>
<tr class="odd">
<td style="text-align: left;">å®¢æˆ·ç«¯å…¼å®¹æ€§</td>
<td style="text-align: left;">å…¨å¹³å°</td>
<td style="text-align: left;">å…¨å¹³å°</td>
<td style="text-align: left;">å…¨å¹³å°</td>
</tr>
<tr class="even">
<td style="text-align: left;">ç»¼åˆè¯„åˆ†</td>
<td style="text-align: left;">â˜…â˜†â˜†â˜†â˜†</td>
<td style="text-align: left;">â˜…â˜…â˜…â˜…â˜†</td>
<td style="text-align: left;">â˜…â˜…â˜…â˜…â˜…</td>
</tr>
</tbody>
</table>
</section>
<section id="vpn-design-principles" class="slide level2">
<h2>VPN è®¾è®¡åŸåˆ™</h2>
<ul>
<li>å®‰å…¨æ€§
<ul>
<li>éš§é“ä¸åŠ å¯†</li>
<li>æ•°æ®éªŒè¯</li>
<li>ç”¨æˆ·éªŒè¯</li>
<li>é˜²ç«å¢™ä¸æ”»å‡»æ£€æµ‹</li>
</ul></li>
<li>å¯é æ€§</li>
<li>ç»æµæ€§ä¸æ‰©å±•æ€§</li>
</ul>
</section>
</section>
<section>
<section id="socks-ä»£ç†" class="title-slide slide level1">
<h1>SOCKS ä»£ç†</h1>

</section>
<section class="slide level2">

<figure>
<img data-src="images/chap0x03/socks-proxy.png" alt="" /><figcaption>SOCKS ä»£ç†åŸºæœ¬åŸç†</figcaption>
</figure>
</section>
<section id="socks-proxy-usage" class="slide level2">
<h2>SOCKS ä»£ç†çš„åº”ç”¨</h2>
<ul>
<li>ç”µå­é‚®ä»¶</li>
<li>æ–°é—»ç»„è½¯ä»¶</li>
<li>ç½‘ç»œä¼ å‘¼</li>
<li>ç½‘ç»œèŠå¤©</li>
<li>ä½¿ç”¨ä»£ç†æœåŠ¡å™¨ã€Œè”ç½‘ã€æ‰“æ¸¸æˆ</li>
</ul>
</section>
<section id="å®æˆ˜ä½“éªŒ" class="slide level2">
<h2>å®æˆ˜ä½“éªŒ</h2>
<pre class="bash"><code># å»ºç«‹å®¿ä¸»æœºåˆ°è™šæ‹Ÿæœºçš„ SSH éš§é“ï¼ˆsocks5 ä»£ç†ï¼‰
# æ¨èä½¿ç”¨ Host-only ç½‘å¡å¯¹åº”çš„ VM IP ä½œä¸ºç›®æ ‡ IP
ssh -D 127.0.0.1:1080 cuc@192.168.56.136 -q -C -N -v

# ä½¿ç”¨ä¸Šè¿°å»ºç«‹çš„ SSH éš§é“è®¿é—®è™šæ‹Ÿæœºå†…çš„ã€Œæœ¬åœ°ç½‘é¡µã€
curl http://127.0.0.1:8080/proxy.php -x socks5://127.0.0.1:1080

# ä½¿ç”¨è¿œç¨‹æœåŠ¡å™¨å®Œæˆ DNS è§£æè¯·æ±‚
curl http://127.0.0.1:8080/proxy.php -x socks5://127.0.0.1:1080 --socks5-hostname 127.0.0.1:1080

# è‡ªè¡ŒæŠ“åŒ…ç ”ç©¶é€šä¿¡è¿‡ç¨‹
# TODO æ˜¯å¦å­˜åœ¨ã€Œå¯è¾¨è¯†ã€çš„ã€Œç½‘é¡µè®¿é—®ã€è¡Œä¸ºç—•è¿¹ï¼Ÿ

# æŸ¥çœ‹ PHP ç»ˆç«¯æ—¥å¿—
# TODO è®¿é—®æ¥æº IP æ˜¯ã€Œå®¿ä¸»æœºã€IP å—ï¼Ÿ</code></pre>
</section>
<section id="å¸¸è§ä»£ç†æœåŠ¡å°ç»“" class="slide level2">
<h2>å¸¸è§ä»£ç†æœåŠ¡å°ç»“</h2>
<ul>
<li>ä½¿ç”¨å¼€æ”¾ä»£ç†è¦è°¨æ…
<ul>
<li>é¿å…æ•æ„Ÿæ•°æ®è¢«å—…æ¢</li>
<li>é¿å…é‡è¦æ•°æ®è¢«ç¯¡æ”¹</li>
</ul></li>
<li>ä¸€èˆ¬æƒ…å†µä¸‹çš„ä»£ç†å®‰å…¨æ€§æ’åº
<ul>
<li>VPN â‰¥ Socksä»£ç† &gt; HTTPä»£ç†</li>
</ul></li>
</ul>
</section>
</section>
<section>
<section id="é«˜çº§ä»£ç†æœåŠ¡" class="title-slide slide level1">
<h1>é«˜çº§ä»£ç†æœåŠ¡</h1>

</section>
<section class="slide level2">

<ul>
<li>åŒ¿åçš„åŸºæœ¬æ¦‚å¿µ</li>
<li>åŒ¿åä¿æŠ¤çš„å½¢å¼</li>
<li>åŒ¿åé€šä¿¡é¢ä¸´çš„æŠ€æœ¯æ€§æ”»å‡»</li>
<li>åŒ¿åé€šä¿¡çš„å®ç°</li>
</ul>
</section>
<section id="anonymity-1" class="slide level2">
<h2>åŒ¿ååŸºæœ¬æ¦‚å¿µ</h2>
<ul>
<li>å®šä¹‰ï¼šä¸€ä¸ªå¯¹è±¡åœ¨ä¸€ç»„å¯¹è±¡çš„é›†åˆï¼ˆå³åŒ¿åé›†åˆï¼ŒAnonymitysetï¼‰ä¸­ä¸å¯è¯†åˆ«çš„çŠ¶æ€</li>
<li>åŒ¿åé›†åˆï¼šæŒ‡å‘ç”ŸæŸä¸ªè¡Œä¸ºï¼ˆå¦‚å‘é€ä¸€å°ç”µå­é‚®ä»¶æˆ–è€…è®¿é—®æŸä¸ªç½‘ç«™ï¼‰çš„å¯èƒ½å®ä½“ï¼ˆå¦‚ç”¨æˆ·ï¼‰çš„é›†åˆ
<ul>
<li>åŒ¿åé›†çš„æ¦‚å¿µæ˜¯ç ”ç©¶åŒ¿åæŠ€æœ¯çš„åŸºç¡€</li>
</ul></li>
</ul>
</section>
<section id="anonymity-2" class="slide level2">
<h2>åŒ¿ååŸºæœ¬æ¦‚å¿µ</h2>
<ul>
<li>åŒ¿åè¡Œä¸º
<ul>
<li>å€ŸåŠ©äºå…¶ä»–å®ä½“çš„è¡Œä¸ºæ¥éšè—è‡ªå·±çš„è¡Œä¸º</li>
<li>åŒ¿åé›†åˆè¶Šå¤§ï¼Œåˆ†å¸ƒè¶Šå‡åŒ€ï¼ŒåŒ¿åæ€§å°±è¶Šå¼º</li>
</ul></li>
<li>ä¸å¯å…³è”æ€§
<ul>
<li>ä¸¤ä¸ªæˆ–å¤šä¸ªå¯¹è±¡ï¼ˆå¦‚å®ä½“ã€æ¶ˆæ¯ã€äº‹ä»¶ã€è¡Œä¸ºç­‰ï¼‰ä¹‹é—´çš„ä¸å¯å…³è”æ€§æ˜¯æŒ‡ç³»ç»Ÿä¸­çš„è¿™äº›å¯¹è±¡ï¼Œç›¸å¯¹äºå…¶å…ˆéªŒçŸ¥è¯†çš„å…³è”æ€§æ¥è¯´ï¼Œå…¶å…³è”æ€§æ²¡æœ‰å‘ç”Ÿå˜åŒ–</li>
<li>æ”»å‡»å‘ç”Ÿå‰åï¼Œå¯¹è±¡å¯è¢«å…³è”çš„æ¦‚ç‡ä¿æŒä¸å˜</li>
</ul></li>
</ul>
</section>
<section id="anonymity-3" class="slide level2">
<h2>åŒ¿ååŸºæœ¬æ¦‚å¿µ</h2>
<ul>
<li>ä¸å¯è§‚å¯Ÿæ€§
<ul>
<li>ä¸èƒ½ä»å‘é€æˆ–æ¥æ”¶äº‹ä»¶é›†åˆä¸­åˆ†è¾¨å‡ºæŸä¸ªå‘é€æˆ–æ¥æ”¶äº‹ä»¶</li>
</ul></li>
<li>å‡å
<ul>
<li>å¯¹è±¡ä½¿ç”¨å‡åä½œä¸ºå…¶ <code>èº«ä»½æ ‡è¯†</code>ï¼Œå‡åä¸å¯¹è±¡ä¹‹é—´å…·æœ‰ä¸å¯å…³è”æ€§ï¼Œæ˜¯å®ç°åŒ¿åçš„ä¸€ç§æ–¹æ³•</li>
<li>ä½¿ç”¨ä¸å˜çš„å‡åå¯ä»¥å»ºç«‹é—®è´£åˆ¶å’Œå£°èª‰æœºåˆ¶ï¼Œé˜²æ­¢åŒ¿åç³»ç»Ÿè¢«æ»¥ç”¨</li>
</ul></li>
</ul>
</section>
<section class="slide level2">

<ul>
<li>é€šä¿¡ç³»ç»Ÿä¸­çš„å‘é€è€…å’Œæ¥æ”¶è€…çš„èº«ä»½ä¿¡æ¯ä¹Ÿæ˜¯æœºå¯†çš„æƒ…å†µ</li>
<li>ä¸€ä¸ªåŒ¿åç³»ç»Ÿçš„æ”»å‡»è€…å¸Œæœ›å¾—åˆ°çš„æ˜¯â€œè°å’Œè°â€åœ¨é€šä¿¡ï¼Œç”šè‡³è¦æ§åˆ¶æˆ–ç ´åé€šä¿¡è¿‡ç¨‹</li>
</ul>
<figure>
<img data-src="images/chap0x03/anonymity-system.png" alt="" /><figcaption>åŒ¿åé€šä¿¡è¦ç ”ç©¶çš„é—®é¢˜</figcaption>
</figure>
</section>
<section id="åŒ¿åä¿æŠ¤çš„å½¢å¼" class="slide level2">
<h2>åŒ¿åä¿æŠ¤çš„å½¢å¼</h2>
<ul>
<li>å‘é€è€…åŒ¿å
<ul>
<li>ä¿æŠ¤é€šä¿¡å‘èµ·è€…çš„èº«ä»½æ ‡è¯†</li>
</ul></li>
<li>æ¥æ”¶è€…åŒ¿å
<ul>
<li>ä¿æŠ¤é€šä¿¡å“åº”è€…çš„èº«ä»½æ ‡è¯†</li>
</ul></li>
<li>é€šä¿¡å…³ç³»åŒ¿å
<ul>
<li>ä¿æŠ¤é€šä¿¡å…³ç³»ä¸è¢«æ”»å‡»è€…è§‚å¯Ÿåˆ°ï¼Œä½¿å‘é€è€…å’Œæ¥æ”¶è€…æ— æ³•è¢«å…³è”èµ·æ¥</li>
</ul></li>
</ul>
</section>
<section class="slide level2">

<figure>
<img data-src="images/chap0x03/anonymity-system-protection.png" alt="" /><figcaption>åŒ¿åä¿æŠ¤å½¢å¼</figcaption>
</figure>
</section>
<section id="åŒ¿åé€šä¿¡é¢ä¸´çš„æŠ€æœ¯æ€§æ”»å‡»" class="slide level2">
<h2>åŒ¿åé€šä¿¡é¢ä¸´çš„æŠ€æœ¯æ€§æ”»å‡»</h2>
<ul>
<li>æµé‡å½¢çŠ¶æ”»å‡»
<ul>
<li>é€šä¿¡æ¨¡å¼æ”»å‡»</li>
<li>æ¶ˆæ¯é¢‘åº¦æ”»å‡»</li>
<li>æŠ¥æ–‡è®¡æ•°æ”»å‡»</li>
</ul></li>
<li>äº¤é›†æ”»å‡»</li>
<li>é‡æ”¾æ”»å‡»</li>
<li>åˆ·æ–°æ”»å‡»</li>
<li>æ—¶é—´æ”»å‡»</li>
</ul>
</section>
<section id="åŒ¿åé€šä¿¡çš„å®ç°" class="slide level2">
<h2>åŒ¿åé€šä¿¡çš„å®ç°</h2>
<ul>
<li>ä»£ç†æ–¹æ³•</li>
<li>MIX-NET</li>
<li>Crowds</li>
<li>Tarzan</li>
<li>æ´‹è‘±è·¯ç”±</li>
</ul>
</section>
<section class="slide level2">

<h3 id="ä»£ç†æ–¹æ³•">ä»£ç†æ–¹æ³•</h3>
<ul>
<li>ä»£ç†æ–¹æ³•çš„åŸç†
<ul>
<li>å‰è¿°åŒ¿åä»£ç†åŸç†</li>
</ul></li>
<li>ä»£ç†åˆ†ç±»
<ul>
<li>åŒ¿åä»£ç†</li>
<li>å‡åä»£ç†</li>
<li>MIX å¢å¼ºåŒ¿åä»£ç†</li>
</ul></li>
</ul>
</section>
<section class="slide level2">

<ul>
<li>ä»£ç†æ–¹æ³•çš„ä¼˜ç‚¹
<ul>
<li>å‘é€æ–¹åŒ¿åçš„åè®®ç®€å•</li>
<li>é«˜æ•ˆæ€§</li>
</ul></li>
<li>ä»£ç†æ–¹æ³•çš„ç¼ºç‚¹
<ul>
<li>ç”¨æˆ·èº«ä»½å¯¹ä»£ç†æ¥è¯´ä¸æ˜¯ä¿å¯†çš„ï¼Œå› è€Œè¦æ±‚ä»£ç†å¿…é¡»æ˜¯å¯ä¿¡ä»»çš„</li>
<li>é‡‡ç”¨å•ç‚¹ä»£ç†å®ç°æ–¹æ³•æ˜“é­åˆ°æ”»å‡»è€…çš„æ§åˆ¶å’Œè·Ÿè¸ª</li>
<li>ç”¨æˆ·æ¥å…¥åŒ¿åæˆ–å‡åä»£ç†é‡‡ç”¨æ˜æ–‡å½¢å¼ï¼Œæ”»å‡»è€…æ˜“äºè¿›è¡Œæµé‡åˆ†æ</li>
<li>åŒ¿åä»£ç†éœ€è¦åšè¿‡æ»¤æ“ä½œï¼Œæ˜“æˆä¸ºç³»ç»Ÿç“¶é¢ˆ</li>
</ul></li>
</ul>
</section>
<section class="slide level2">

<h3 id="mix-net">MIX-NET</h3>
<ul>
<li>MIXèŠ‚ç‚¹æ¥æ”¶æ¶ˆæ¯å¹¶å¤„ç†
<ul>
<li>é€šè¿‡åŠ å¯†æˆ–å¡«å……ç­‰æ‰‹æ®µä¿®æ”¹æ¶ˆæ¯çš„å¤–è§‚</li>
<li>é€šè¿‡å»¶è¿Ÿæˆ–é‡æ’åºç­‰æ‰‹æ®µæ¥ä¿®æ”¹æ¶ˆæ¯çš„é¡ºåº</li>
</ul></li>
<li>å®ç°éšè—è¾“å…¥è¾“å‡ºå¯¹åº”å…³ç³»çš„æ–¹å¼è¾“å‡ºæ¶ˆæ¯
<ul>
<li>ä¿è¯æ”»å‡»è€…æ— æ³•å‡†ç¡®æ¨æ–­é€šä¿¡å‚ä¸è€…çš„é€šä¿¡å…³ç³»</li>
</ul></li>
<li>å¤šå°MIXæœåŠ¡å™¨å¯ä»¥ä»¥çº§è”æˆ–ç½‘ç»œçš„å½¢å¼è¿›è¡Œè¿æ¥</li>
</ul>
</section>
<section class="slide level2">

<p><img data-src="images/chap0x03/mix-net-1.png" /></p>
</section>
<section class="slide level2">

<figure>
<img data-src="images/chap0x03/mix-net-2.png" alt="" /><figcaption>åªè¦æœ‰ä¸€å°æœåŠ¡å™¨æ­£å¸¸å·¥ä½œå°±å¯ä»¥ä¿è¯ç³»ç»Ÿçš„åŒ¿åæ€§</figcaption>
</figure>
</section>
<section class="slide level2">

<h3 id="crowds">Crowds</h3>
<ul>
<li><strong>å²ä¸Šæœ€æ—©</strong> åŸºäºP2Pç½‘ç»œç»“æ„æ€æƒ³æ„å»ºçš„åŒ¿åé€šä¿¡ç½‘ç»œ
<ul>
<li>æ¶ˆæ¯åœ¨P2Pç½‘ç»œèŠ‚ç‚¹ä¹‹é—´éšæœºè½¬å‘</li>
</ul></li>
<li>ä½¿ç”¨ <strong>å¯ä¿¡ç¬¬ä¸‰æ–¹æœåŠ¡å™¨</strong> ä½œä¸º Crowds <strong>ä¼šå‘˜ä¿¡æ¯ä¸­å¿ƒ</strong> èŠ‚ç‚¹æœåŠ¡å™¨</li>
<li>æä¾›ä¸¤ç§åŒ¿åä¿æŠ¤æœºåˆ¶
<ul>
<li>å‘é€è€…åŒ¿å</li>
<li>é€šä¿¡å…³ç³»åŒ¿å</li>
</ul></li>
</ul>
</section>
<section class="slide level2">

<figure>
<img data-src="images/chap0x03/crowds-network.png" alt="" /><figcaption>Crowds ç½‘ç»œåŸç†ç¤ºæ„å›¾</figcaption>
</figure>
<blockquote>
<p>æ¶ˆæ¯åœ¨ä¸åŒæœåŠ¡å™¨ä¹‹é—´éšæœºè½¬å‘ï¼Œæœ€ç»ˆå‘é€ç»™ç›®çš„èŠ‚ç‚¹</p>
</blockquote>
</section>
<section class="slide level2">

<h3 id="tarzan">Tarzan</h3>
<ul>
<li>Tarzanåœ¨è‹±æ–‡ä¸­çš„æ„æ€ä¸ºâ€œæ³°å±±â€</li>
<li>Tarzanæ˜¯ä¸€ä¸ªP2Pçš„åŒ¿åIPå åŠ ç½‘ç»œï¼Œå®ƒé€šè¿‡æ•°æ®å¤šå±‚åŠ å¯†å’Œæ¶ˆæ¯å¤šè·³è·¯ç”±æ¥å®ç°åŒ¿åæ€§ã€‚</li>
<li>Tarzanå°†mix-netçš„åŒ¿åæ–¹æ³•æ‰©å±•åˆ°P2Pç¯å¢ƒä¸­ï¼Œç»“ç‚¹ä¹‹é—´é€šè¿‡ä¸­ç»§ç»“ç‚¹åºåˆ—ï¼ˆè¿™ä¸€åºåˆ—ç»“ç‚¹æ„æˆä¸€æ¡éš§é“ï¼‰æ¥é€šä¿¡ã€‚</li>
<li>æä¾›3ç§åŒ¿åä¿æŠ¤æœºåˆ¶
<ul>
<li>å‘é€è€…åŒ¿å</li>
<li>æ¥æ”¶è€…åŒ¿å</li>
<li>å…³ç³»åŒ¿å</li>
</ul></li>
</ul>
</section>
<section class="slide level2">

<p><img data-src="images/chap0x03/tarzan.png" /></p>
</section>
<section class="slide level2">

<h3 id="æ´‹è‘±è·¯ç”±">æ´‹è‘±è·¯ç”±</h3>
<ul>
<li>åŒ¿åä¼ è¾“ä»£ç†æœåŠ¡å™¨Toræ˜¯åŸºäºæ´‹è‘±è·¯ç”±
<ul>
<li>ç”¨æˆ·åœ¨æœ¬æœºè¿è¡Œä¸€ä¸ªæ´‹è‘±ä»£ç†æœåŠ¡å™¨ï¼Œè¿™ä¸ªä»£ç†å‘¨æœŸæ€§åœ°ä¸å…¶ä»–Toräº¤æµï¼Œä»è€Œåœ¨Torç½‘ç»œä¸­æ„æˆè™šæ‹Ÿç¯è·¯</li>
</ul></li>
<li>Tor æ˜¯åœ¨7å±‚åè®®æ ˆä¸­çš„åº”ç”¨å±‚è¿›è¡ŒåŠ å¯†</li>
<li>æ¯ä¸ªï¼ˆæ´‹è‘±ï¼‰è·¯ç”±å™¨é—´çš„ä¼ è¾“éƒ½ç»è¿‡å¯¹ç§°å¯†é’¥æ¥åŠ å¯†ï¼Œå½¢æˆæœ‰å±‚æ¬¡çš„ç»“æ„</li>
<li>ä¸€ä¸ªé€šç”¨å¯ç”¨äºå¦‚ Internet å¼€æ”¾å¼ç½‘ç»œä¸Šçš„åŒ¿åé€šä¿¡ä½“ç³»</li>
<li>é€šè¿‡é€‚å½“çš„ä»£ç†æ”¯æŒå¤šç±»çš„åº”ç”¨å¦‚ï¼šHTTP, FTP, SMTP â€¦â€¦</li>
<li>åº”ç”¨æ•°æ®é€šè¿‡åŠ¨æ€å»ºç«‹çš„åŒ¿åè¿æ¥ä¼ è¾“</li>
<li>å…·æœ‰åˆ†å¸ƒå¼ï¼Œå®¹é”™ï¼Œå®‰å…¨ç­‰ç‰¹æ€§</li>
</ul>
</section>
<section class="slide level2">

<h3 id="tor-network-setup">æ´‹è‘±è·¯ç”±â€”â€”ç½‘ç»œè®¾ç½®å’Œæ“ä½œ</h3>
<ul>
<li>åœ¨é‚»å±…è·¯ç”±å™¨é—´é•¿æœŸä¿æŒçš„socketè¿æ¥</li>
<li>ä¸€ä¸ªè¿æ¥ä¸Šçš„ä¸¤é‚»å±…é‡‡ç”¨ä¸¤ä¸ªDESåŠ å¯†keyï¼Œæ¯ä¸ªæ–¹å‘ä¸€ä¸ªç¡®ä¿é€šä¿¡å®‰å…¨</li>
<li>å¤šä¸ªåŒ¿åè¿æ¥å¯ä»¥å¤ç”¨åœ¨ä¸€ä¸ªè¿æ¥ä¸Šï¼Œè¿™æ—¶æ¯ä¸ªåŒ¿åè¿æ¥åˆ†é…ä¸€ä¸ªACIæ ‡è¯†ï¼ˆå±€éƒ¨æ€§çš„æ ‡è¯†ï¼‰</li>
<li>æ¶ˆæ¯ç±»ä¼¼ATMä¼ è¾“ï¼Œåˆ†æˆ48byteså®šé•¿ä¿¡å…ƒã€‚ä¿¡å…ƒç”¨DESåŠ å¯†ã€‚ä¼ è¾“ä¸­æ¥è‡ªä¸åŒè¿æ¥çš„ä¿¡å…ƒmixå¤ç”¨ï¼Œä½†ä¿æŒè¿æ¥æœ‰åº</li>
</ul>
</section>
<section class="slide level2">

<h3 id="tor-network-arch">æ´‹è‘±è·¯ç”±â€”â€”æ€»ä½“æ¶æ„</h3>
<p><img data-src="images/chap0x03/tor-network-arch.png" /></p>
</section>
<section class="slide level2">

<figure>
<img data-src="images/chap0x03/tor-control-panel.png" alt="" /><figcaption>æ´‹è‘±è·¯ç”±åº”ç”¨æ¼”ç¤ºï¼ˆè€ç‰ˆæœ¬ï¼‰</figcaption>
</figure>
</section>
<section class="slide level2">

<figure>
<img data-src="images/chap0x03/tor-applications.png" alt="" /><figcaption>æ´‹è‘±è·¯ç”±åˆ‡æ¢ IPï¼ˆè€ç‰ˆæœ¬ï¼‰</figcaption>
</figure>
</section>
<section id="è”æƒ³" class="slide level2">
<h2>è”æƒ³</h2>
<ul>
<li>åŒ¿åé€šä¿¡æŠ€æœ¯æ”¾å¤§äº†ç½‘ç»œå®‰å…¨å¯¹æŠ—çš„å¤æ‚æ€§
<ul>
<li>æ ¹æ®IPåœ°å€è¯†åˆ«ï¼Ÿ
<ul>
<li>ä¸é è°±</li>
</ul></li>
<li>æ ¹æ®è·¯ç”±è¯†åˆ«ï¼Ÿ
<ul>
<li>ä¸é è°±</li>
</ul></li>
</ul></li>
<li>æ··åˆåº”ç”¨å¤šç§ä»£ç†æŠ€æœ¯å°±å¯ä»¥é€ƒé¿ç½‘ç»œå®‰å…¨å®¡è®¡ï¼Ÿ
<ul>
<li>é­”é«˜ä¸€å°ºé“é«˜ä¸€ä¸ˆ</li>
</ul></li>
<li>ç½‘ç»œå®‰å…¨ä¸å¯æŠ±æœ‰ä¾¥å¹¸å¿ƒç†</li>
</ul>
</section>
</section>
<section>
<section id="ä»£ç†æœåŠ¡çš„æ£€æµ‹" class="title-slide slide level1">
<h1>ä»£ç†æœåŠ¡çš„æ£€æµ‹</h1>

</section>
<section id="æ£€æµ‹éœ€æ±‚" class="slide level2">
<h2>æ£€æµ‹éœ€æ±‚</h2>
<ul>
<li>ç½‘ç»œæµé‡è®¡è´¹
<ul>
<li>é¿å…è®¡è´¹è¯¯å·®å’ŒæŸå¤±</li>
</ul></li>
<li>ç½‘ç»œå®‰å…¨å®¡è®¡
<ul>
<li>æ‰“å‡»ç½‘ç»œæ”»å‡»æºå¤´</li>
</ul></li>
<li>ç½‘ç»œæ»¥ç”¨
<ul>
<li>æ‰“å‡»ç½‘ç»œæ»¥ç”¨æºå¤´</li>
</ul></li>
</ul>
</section>
<section id="æ£€æµ‹æ‰‹æ®µ" class="slide level2">
<h2>æ£€æµ‹æ‰‹æ®µ</h2>
<ul>
<li>é™æ€ç‰¹å¾
<ul>
<li>åè®®å…³é”®å­—</li>
</ul></li>
<li>åŠ¨æ€ç‰¹å¾
<ul>
<li>æµé‡ç»Ÿè®¡ç‰¹å¾</li>
</ul></li>
</ul>
</section>
<section class="slide level2">

<h3 id="é™æ€ç‰¹å¾æ£€æµ‹">é™æ€ç‰¹å¾æ£€æµ‹</h3>
<ul>
<li>ç«¯å£æ‰«æ</li>
<li>åè®®å­—æ®µå˜é‡ç‰¹å¾
<ul>
<li>ç½‘ç»œæ•°æ®æŠ¥æ–‡
<ul>
<li>å¤´éƒ¨å­—æ®µ</li>
<li>è´Ÿè½½æ•°æ®</li>
</ul></li>
</ul></li>
</ul>
</section>
<section class="slide level2">

<h3 id="ç«¯å£æ‰«ææ£€æµ‹æ–¹å¼">ç«¯å£æ‰«ææ£€æµ‹æ–¹å¼</h3>
<ul>
<li>ç«¯å£æ‰«ææ–¹å¼ä¸»è¦é€‚ç”¨äºå¯¹ä»£ç†æœåŠ¡å™¨çš„æ£€æµ‹</li>
<li>ä»£ç†æœåŠ¡å™¨ä¸€èˆ¬æœ€ä¸ºå¸¸ç”¨çš„ç«¯å£æœ‰8080/3218ç­‰ï¼Œå¯ä»¥é€šè¿‡æ‰«æè¿™äº›ç«¯å£è·å¾—</li>
<li>å¯¹äºé‡‡ç”¨éå¸¸ç”¨ç«¯å£çš„ä»£ç†æœåŠ¡å™¨ï¼Œç«¯å£æ‰«ææ–¹å¼çš„æ•ˆç‡ä½ï¼Œå‡†ç¡®æ€§ä¹Ÿå·®</li>
</ul>
</section>
<section class="slide level2">

<h3 id="å˜é‡ç‰¹å¾">å˜é‡ç‰¹å¾</h3>
<ul>
<li>HTTP ä»£ç†å¸¸è§çš„å˜é‡ç‰¹å¾ï¼š
<ul>
<li>VIA</li>
<li>X-FORWARDED-FOR</li>
<li>CACHE-CONTROL</li>
<li>FORWAREDED</li>
<li>PROXY-CONNECTION</li>
</ul></li>
</ul>
</section>
<section class="slide level2">

<h3 id="åŠ¨æ€ç‰¹å¾">åŠ¨æ€ç‰¹å¾</h3>
<ul>
<li>åè®®è¡Œä¸ºç‰¹å¾ï¼ˆç…§æ¬ã€Œå¯¹åŒ¿åé€šä¿¡ç³»ç»Ÿã€çš„æ”»å‡»ï¼‰
<ul>
<li>æµé‡å½¢çŠ¶æ”»å‡»
<ul>
<li>é€šä¿¡æ¨¡å¼æ”»å‡»</li>
<li>æ¶ˆæ¯é¢‘åº¦æ”»å‡»</li>
<li>æŠ¥æ–‡è®¡æ•°æ”»å‡»</li>
</ul></li>
<li>äº¤é›†æ”»å‡»</li>
<li>é‡æ”¾æ”»å‡»</li>
<li>åˆ·æ–°æ”»å‡»</li>
<li>æ—¶é—´æ”»å‡»</li>
</ul></li>
</ul>
</section>
<section id="ä»£ç†æœåŠ¡æ£€æµ‹" class="slide level2">
<h2>ä»£ç†æœåŠ¡æ£€æµ‹</h2>
<ul>
<li>è®¾ç½®æµè§ˆå™¨ä½¿ç”¨HTTPä»£ç†</li>
<li>ä¼ªé€ HTTPè¯·æ±‚å¤´
<ul>
<li>X-Forwarded-For è®¾ç½®å•ä¸ªã€å¤šä¸ªIPåœ°å€</li>
<li>X-Forwarded-For è®¾ç½®ä»»æ„å­—ç¬¦</li>
</ul></li>
<li>æ´‹è‘±è·¯ç”±åŒ¿åä»£ç†æœåŠ¡çš„æ£€æµ‹
<ul>
<li>åˆ©ç”¨ cookie æœºåˆ¶</li>
<li>å°å¿ƒ remote_host å­—æ®µæ³„æ¼ï¼šä½ æ­£åœ¨ä½¿ç”¨torï¼</li>
</ul></li>
</ul>
</section>
<section class="slide level2">

<figure>
<img data-src="images/chap0x03/tor-exit-node.png" alt="" /><figcaption>Tor é€€å‡ºèŠ‚ç‚¹çš„å‡åæ ‡è¯†</figcaption>
</figure>
</section>
<section class="slide level2">

<figure>
<img data-src="images/chap0x03/foxy-proxy.png" alt="" /><figcaption>é˜²èŒƒ Cookie æ³„éœ²èº«ä»½ä¿¡æ¯</figcaption>
</figure>
</section>
<section class="slide level2">

<figure>
<img data-src="images/chap0x03/browser-fingerprinting.png" alt="" /><figcaption>é¡ºç€ç½‘çº¿æ‰¾åˆ°ä½ </figcaption>
</figure>
</section>
<section class="slide level2">

<p><img data-src="images/chap0x03/tor-detection.png" /></p>
<ul>
<li>ä»£ç†æ£€æµ‹æ–¹æ³•çš„æ•ˆæœå–å†³äºæ£€æµ‹æ–¹æ‰€æ‹¥æœ‰çš„èµ„æºå¤šå°‘ã€æƒé™å¤§å°
<ul>
<li>ä¸»æœºã€äº¤æ¢æœºã€è·¯ç”±å™¨ã€æ ¸å¿ƒç½‘äº¤æ¢æœºã€ISPè·¯ç”±å™¨ã€‚ã€‚ã€‚</li>
<li>ä¸»æœºç›‘æ§è½¯ä»¶ã€ç½‘ç»œå—…æ¢ã€ç½‘ç»œç¯¡æ”¹ã€‚ã€‚ã€‚</li>
</ul></li>
</ul>
</section>
<section class="slide level2">

<figure>
<img data-src="images/chap0x03/cyber-security-internals.png" alt="" /><figcaption>æ— å¯¹æŠ—ä¸å®‰å…¨</figcaption>
</figure>
</section>
</section>
<section>
<section id="è¯¾åæ€è€ƒé¢˜" class="title-slide slide level1">
<h1>è¯¾åæ€è€ƒé¢˜</h1>

</section>
<section class="slide level2">

<ul>
<li>ä»£ç†æŠ€æœ¯åœ¨ç½‘ç»œæ”»é˜²ä¸­çš„æ„ä¹‰ï¼Ÿ
<ul>
<li>å¯¹æ”»æ–¹çš„æ„ä¹‰ï¼Ÿ</li>
<li>å¯¹å®ˆæ–¹çš„æ„ä¹‰ï¼Ÿ</li>
</ul></li>
<li>å¸¸è§„ä»£ç†æŠ€æœ¯å’Œé«˜çº§ä»£ç†æŠ€æœ¯çš„è®¾è®¡æ€æƒ³åŒºåˆ«ä¸è”ç³»ï¼Ÿ</li>
</ul>
</section>
</section>
    </div>
  </div>

  <script src="lib/reveal.js/lib/js/head.min.js"></script>
  <script src="lib/reveal.js/js/reveal.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        // Display the page number of the current slide
        slideNumber: true,
        // Push each slide change to the browser history
        history: true,
        // Transition style
        transition: 'fade', // none/fade/slide/convex/concave/zoom
        math: {
          mathjax: '',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

menu: {
		// Specifies which side of the presentation the menu will 
		// be shown. Use 'left' or 'right'.
		side: 'left',

		// Specifies the width of the menu.
		// Can be one of the following:
		// 'normal', 'wide', 'third', 'half', 'full', or
		// any valid css length value
		width: 'normal',

		// Add slide numbers to the titles in the slide list.
		// Use 'true' or format string (same as reveal.js slide numbers)
		numbers: true,

		// Specifies which slide elements will be used for generating
		// the slide titles in the menu. The default selects the first
		// heading element found in the slide, but you can specify any
		// valid css selector and the text from the first matching
		// element will be used.
		// Note: that a section data-menu-title attribute or an element
		// with a menu-title class will take precedence over this option
		titleSelector: 'h1, h2, h3, h4, h5, h6',

		// If slides do not have a matching title, attempt to use the
		// start of the text content as the title instead
		useTextContentForMissingTitles: false,

		// Hide slides from the menu that do not have a title.
		// Set to 'true' to only list slides with titles.
		hideMissingTitles: false,

		// Adds markers to the slide titles to indicate the 
		// progress through the presentation. Set to 'false'
		// to hide the markers.
		markers: true,

		// Specify custom panels to be included in the menu, by
		// providing an array of objects with 'title', 'icon'
		// properties, and either a 'src' or 'content' property.
		custom: false,

		// Specifies the themes that will be available in the themes
		// menu panel. Set to 'true' to show the themes menu panel
		// with the default themes list. Alternatively, provide an
		// array to specify the themes to make available in the
		// themes menu panel, for example...
		// [
		//     { name: 'Black', theme: 'css/theme/black.css' },
		//     { name: 'White', theme: 'css/theme/white.css' },
		//     { name: 'League', theme: 'css/theme/league.css' }
		// ]
		themes: false,

		// Specifies the path to the default theme files. If your
		// presentation uses a different path to the standard reveal
		// layout then you need to provide this option, but only
		// when 'themes' is set to 'true'. If you provide your own 
		// list of themes or 'themes' is set to 'false' the 
		// 'themesPath' option is ignored.
		themesPath: 'css/theme/',

		// Specifies if the transitions menu panel will be shown.
		// Set to 'true' to show the transitions menu panel with
		// the default transitions list. Alternatively, provide an
		// array to specify the transitions to make available in
		// the transitions panel, for example...
		// ['None', 'Fade', 'Slide']
		transitions: false,

		// Adds a menu button to the slides to open the menu panel.
		// Set to 'false' to hide the button.
		openButton: true,

		// If 'true' allows the slide number in the presentation to
		// open the menu panel. The reveal.js slideNumber option must 
		// be displayed for this to take effect
		openSlideNumber: false,

		// If true allows the user to open and navigate the menu using
		// the keyboard. Standard keyboard interaction with reveal
		// will be disabled while the menu is open.
		keyboard: true,

		// Normally the menu will close on user actions such as
		// selecting a menu item, or clicking the presentation area.
		// If 'true', the sticky option will leave the menu open
		// until it is explicitly closed, that is, using the close
		// button or pressing the ESC or m key (when the keyboard 
		// interaction option is enabled).
		sticky: false,

		// If 'true' standard menu items will be automatically opened
		// when navigating using the keyboard. Note: this only takes 
		// effect when both the 'keyboard' and 'sticky' options are enabled.
		autoOpen: true,

		// If 'true' the menu will not be created until it is explicitly
		// requested by calling RevealMenu.init(). Note this will delay
		// the creation of all menu panels, including custom panels, and
		// the menu button.
		delayInit: false,

		// If 'true' the menu will be shown when the menu is initialised.
		openOnInit: false,

		// By default the menu will load it's own font-awesome library
		// icons. If your presentation needs to load a different
		// font-awesome library the 'loadIcons' option can be set to false
		// and the menu will not attempt to load the font-awesome library.
		loadIcons: true
	},


        // Optional reveal.js plugins
        dependencies: [
          { src: 'lib/reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'lib/reveal.js/plugin/zoom-js/zoom.js', async: true },
          { src: 'lib/reveal.js/plugin/math/math.js', async: true },
          { src: 'lib/reveal.js/plugin/menu/menu.js'},
          { src: 'lib/reveal.js/plugin/markdown/marked.js'},
          { src: 'lib/reveal.js/plugin/markdown/markdown.js'},
          { src: 'lib/reveal.js/plugin/search/search.js'},
          { src: 'lib/reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'lib/reveal.js/plugin/notes/notes.js', async: true },
        ]
      });
    </script>
    </body>
</html>
